(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[113],{5323:function(e,t,n){"use strict";n.r(t);var s=n(5893),r=n(809),i=n.n(r),o=n(1385),a=n(2447),l=n(7294),u=n(8017),c=n(4096),d=n(7093),x=n(4028),p=n(4678),m=(n(6808),n(9669),n(5063),n(1163)),_=n(233);t.default=function(e,t){var n=e.loans,r=(e.key,e.selectedNav),h=e.setLoanCounts,f=(0,l.useState)(n),y=(f[0],f[1]),j=(0,l.useState)(),b=j[0],v=j[1],g=(0,l.useState)(null),w=g[0],A=g[1];(0,m.useRouter)();(0,l.useEffect)((0,a.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"issue_month",t=n.reduce((function(e,t){return e[t.issue_month]||(e[t.issue_month]={loans:[],loan_amnt_sec:0,int_rate_sum:0,default_probability_percent_updated_sum:0,late_duration_days_total_sum:0,loan_status_count:0}),e[t.issue_month].loans=[].concat((0,o.Z)(e[t.issue_month].loans),[t]),e[t.issue_month].loan_amnt_sec=e[t.issue_month].loan_amnt_sec+parseInt(t.loan_amnt_sec,"10"),e[t.issue_month].int_rate_sum=e[t.issue_month].int_rate_sum+Number(t.interest_rate_percent),e[t.issue_month].default_probability_percent_updated_sum=e[t.issue_month].default_probability_percent_updated_sum+Number(t.default_probability_percent_updated),e[t.issue_month].late_duration_days_total_sum=e[t.issue_month].late_duration_days_total_sum+Number(t.late_duration_days_total),"current"===t.loan_status&&(e[t.issue_month].loan_status_count=e[t.issue_month].loan_status_count+1),e}),{}),y(n),v(t);case 4:case"end":return e.stop()}}),e)}))),[n]);var k="current"===r?["January","February","March","April"]:["May","June","July","August","September","October","November","December"];return b?(0,s.jsx)(x.ThemeContext.Consumer,{children:function(e){return(0,s.jsx)(u.xu,{w:"100%",maxHeight:{md:"100vh",sm:"auto"},overflowY:"scroll",ml:{md:"30px",sm:"0px"},mt:{md:"0px",sm:"30px"},mb:"75px",children:k.map((function(t,n){return(0,s.jsxs)(u.xu,{mt:0===n?"0px":"40px",children:[(0,s.jsxs)(c.k,{children:[(0,s.jsx)("div",{style:{width:"100%"},children:t}),(0,s.jsxs)("div",{style:{width:"auto",display:"flex"},children:[(0,s.jsx)("div",{style:{padding:"5px 10px",cursor:"pointer"},onClick:function(){return A(t.slice(0,3))},children:"Expand"}),(0,s.jsx)("div",{style:{padding:"5px 10px",cursor:"pointer",whiteSpace:"nowrap"},onClick:function(){return A(null)},children:"Collapse All"})]})]}),(0,s.jsx)(c.k,{children:b[t.slice(0,3)]?w===t.slice(0,3)?(0,s.jsx)(u.xu,{w:"100%",children:b[t.slice(0,3)].loans.map((function(e,t){return(0,s.jsx)(u.xu,{mt:0===t?"0px":"15px",children:(0,s.jsx)(_.default,{index:t,loan:e,setLoansToRender:y,setLoanCounts:h})})}))}):(0,s.jsxs)(c.k,{w:"100%",border:"1px solid ".concat(e.colors.gray),borderRadius:"3px",p:"15px",mt:0===n?"0px":"5px",alignItems:"flex-end",flexDirection:"column",children:[(0,s.jsxs)(c.k,{w:"100%",flexWrap:"wrap",children:[(0,s.jsxs)(u.xu,{w:"18%",children:[(0,s.jsx)("div",{style:{fontWeight:"500"},children:"Total Loan Amount"}),(0,s.jsx)("div",{style:{marginTop:"10px"},children:p.Z[0].format(1e3*Math.round(b[t.slice(0,3)].loan_amnt_sec))})]}),(0,s.jsxs)(u.xu,{ml:"10px",w:"18%",children:[(0,s.jsx)("div",{style:{fontWeight:"500"},children:"Average Interest Rate"}),(0,s.jsxs)("div",{style:{marginTop:"10px"},children:[Math.round(b[t.slice(0,3)].int_rate_sum/b[t.slice(0,3)].loans.length*100)/100,"%"]})]}),(0,s.jsxs)(u.xu,{ml:"10px",w:"18%",children:[(0,s.jsx)("div",{style:{fontWeight:"500"},children:"Average Payment Probability"}),(0,s.jsxs)("div",{style:{marginTop:"10px"},children:[100-Math.round(b[t.slice(0,3)].default_probability_percent_updated_sum/b[t.slice(0,3)].loans.length*100)/100,"%"]})]}),(0,s.jsxs)(u.xu,{ml:"10px",w:"18%",children:[(0,s.jsx)("div",{style:{fontWeight:"500"},children:"Average Late Status Days"}),(0,s.jsx)("div",{style:{marginTop:"10px"},children:100*Math.round(b[t.slice(0,3)].late_duration_days_total_sum/b[t.slice(0,3)].loans.length)/100})]}),(0,s.jsxs)(u.xu,{ml:"10px",w:"18%",children:[(0,s.jsx)("div",{style:{fontWeight:"500"},children:"% of Current Loans"}),(0,s.jsxs)("div",{style:{marginTop:"10px"},children:[Math.round(b[t.slice(0,3)].loan_status_count/b[t.slice(0,3)].loans.length*100)/100*100,"%"]})]})]}),"current"===r&&(0,s.jsx)(u.xu,{mt:{md:"0px",sm:"20px"},children:(0,s.jsx)(d.z,{disabled:!0,children:"Purchased Loans"})}),"incoming"===r&&(0,s.jsx)(u.xu,{mt:"20px",children:(0,s.jsx)(d.z,{children:"Commit to Buy"})})]}):(0,s.jsxs)(c.k,{w:"100%",border:"1px solid ".concat(e.colors.gray),borderRadius:"3px",p:"15px",mt:0===n?"0px":"5px",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{style:{fontWeight:"500"},children:"Loan Amount"}),(0,s.jsx)("div",{style:{marginTop:"10px"},children:"$0"})]}),(0,s.jsxs)(u.xu,{ml:"20px",children:[(0,s.jsx)("div",{style:{fontWeight:"500"},children:"Average Interest Rate"}),(0,s.jsx)("div",{style:{marginTop:"10px"},children:"0%"})]})]})})]})}))})}}):null}},2323:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/components/reUsable/loansDeck",function(){return n(5323)}])},1385:function(e,t,n){"use strict";function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function r(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,{Z:function(){return r}})}},function(e){e.O(0,[774,886,241,888,179],(function(){return t=2323,e(e.s=t);var t}));var t=e.O();_N_E=t}]);