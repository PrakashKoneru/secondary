(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[233],{8104:function(e,t,n){"use strict";n.d(t,{Ph:function(){return y}});var r=n(2427),s=n(63),o=n(3105),l=n(2326),i=n(5284),a=n(6759),c=n(4461),u=n(3808),d=n(5505),m=n(8554),p=n.n(m),h=n(7294);function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _(e,t){if(null==e)return{};var n,r,s={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}var f=(0,s.G)(((e,t)=>{var{children:n,placeholder:s,className:l}=e,i=_(e,["children","placeholder","className"]),a=(0,r.Y)(i);return h.createElement(o.m$.select,x({},a,{ref:t,className:(0,c.cx)("chakra-select",l)}),s&&h.createElement("option",{value:""},s),n)}));u.Ts&&(f.displayName="SelectField");var y=(0,s.G)(((e,t)=>{var n=(0,l.j)("Select",e),r=(0,i.Lr)(e),{rootProps:s,placeholder:c,icon:u,color:m,height:y,h:v,minH:j,minHeight:b,iconColor:w,iconSize:S}=r,C=_(r,["rootProps","placeholder","icon","color","height","h","minH","minHeight","iconColor","iconSize","isFullWidth"]),[N,E]=(0,d.Vl)(C,a.layoutPropNames),k={width:"100%",height:"fit-content",position:"relative",color:m},T=p()({},n.field,{paddingEnd:"2rem",_focus:{zIndex:"unset"}});return h.createElement(o.m$.div,x({className:"chakra-select__wrapper",__css:k},N,s),h.createElement(f,x({ref:t,height:null!=v?v:y,minH:null!=j?j:b,placeholder:c},E,{__css:T}),e.children),h.createElement(g,x({"data-disabled":e.isDisabled},(w||m)&&{color:w||m},{__css:n.icon},S&&{fontSize:S}),u))}));u.Ts&&(y.displayName="Select");var v=e=>h.createElement("svg",x({viewBox:"0 0 24 24"},e),h.createElement("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})),j=(0,o.m$)("div",{baseStyle:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)"}}),g=e=>{var{children:t=h.createElement(v,null)}=e,n=_(e,["children"]),r=h.cloneElement(t,{role:"presentation",className:"chakra-select__icon",focusable:!1,"aria-hidden":!0,style:{width:"1em",height:"1em",color:"currentColor"}});return h.createElement(j,x({},n,{className:"chakra-select__icon-wrapper"}),h.isValidElement(t)?r:null)};u.Ts&&(g.displayName="SelectIcon")},7505:function(e,t,n){"use strict";n.r(t);var r=n(5893),s=n(7294),o=n(4096),l=n(8017),i=n(8104),a=(n(9669),n(5323)),c=n(4028),u=(n(4678),n(6808),n(2283));t.default=function(e){var t=e.loans,n=(e.setLoansToRender,e.setLoanCounts),d=e.selectedNav,m=(0,s.useState)(!1),p=m[0],h=(m[1],(0,s.useState)(null)),x=h[0],_=(h[1],(0,u.cI)());_.register,_.handleSubmit,_.watch,_.formState.errors;return(0,r.jsx)(c.ThemeContext.Consumer,{children:function(e){return(0,r.jsxs)(o.k,{mt:"30px",flexDirection:{sm:"column",md:"row"},children:[(0,r.jsx)(l.xu,{w:{md:"300px",sm:"100%"},minWidth:{md:"300px",sm:"100%"},children:(0,r.jsx)(l.xu,{px:"15px",py:"25px",border:"1px solid ".concat(e.colors.gray),borderRadius:"3px",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{style:{fontWeight:"700"},children:"Year"}),(0,r.jsx)(i.Ph,{name:"loans",id:"loans",style:{border:"1px solid ".concat(e.colors.gray)},children:(0,r.jsx)("option",{value:"completed"===d?"2018":"2020",border:"1px solid ".concat(e.colors.gray),children:"completed"===d?"2018":"2020"})})]})},d)}),t&&!p?(0,r.jsx)(a.default,{loans:t,filterBy:x,setLoanCounts:n,selectedNav:d}):(0,r.jsx)(o.k,{w:"100%",maxHeight:{md:"100vh",sm:"auto"},overflowY:"scroll",ml:{md:"30px",sm:"0px"},mt:{md:"0px",sm:"30px"},alignItems:"center",justifyContent:"center",fontSize:"50px",color:e.colors.secondary,children:"Loading..."})]})}})}},5323:function(e,t,n){"use strict";n.r(t);var r=n(5893),s=n(809),o=n.n(s),l=n(1385),i=n(2447),a=n(7294),c=n(8017),u=n(4096),d=n(7093),m=n(4028),p=n(4678),h=(n(6808),n(9669),n(5063),n(1163)),x=n(233);t.default=function(e,t){var n=e.loans,s=(e.key,e.selectedNav),_=e.setLoanCounts,f=(0,a.useState)(n),y=(f[0],f[1]),v=(0,a.useState)(),j=v[0],g=v[1],b=(0,a.useState)(null),w=b[0],S=b[1];(0,h.useRouter)();(0,a.useEffect)((0,i.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"issue_month",t=n.reduce((function(e,t){return e[t.issue_month]||(e[t.issue_month]={loans:[],loan_amnt_sec:0,int_rate_sum:0,default_probability_percent_updated_sum:0,late_duration_days_total_sum:0,loan_status_count:0}),e[t.issue_month].loans=[].concat((0,l.Z)(e[t.issue_month].loans),[t]),e[t.issue_month].loan_amnt_sec=e[t.issue_month].loan_amnt_sec+parseInt(t.loan_amnt_sec,"10"),e[t.issue_month].int_rate_sum=e[t.issue_month].int_rate_sum+Number(t.interest_rate_percent),e[t.issue_month].default_probability_percent_updated_sum=e[t.issue_month].default_probability_percent_updated_sum+Number(t.default_probability_percent_updated),e[t.issue_month].late_duration_days_total_sum=e[t.issue_month].late_duration_days_total_sum+Number(t.late_duration_days_total),"current"===t.loan_status&&(e[t.issue_month].loan_status_count=e[t.issue_month].loan_status_count+1),e}),{}),y(n),g(t);case 4:case"end":return e.stop()}}),e)}))),[n]);var C="current"===s?["January","February","March","April"]:["May","June","July","August","September","October","November","December"];return j?(0,r.jsx)(m.ThemeContext.Consumer,{children:function(e){return(0,r.jsx)(c.xu,{w:"100%",maxHeight:{md:"100vh",sm:"auto"},overflowY:"scroll",ml:{md:"30px",sm:"0px"},mt:{md:"0px",sm:"30px"},mb:"75px",children:C.map((function(t,n){return(0,r.jsxs)(c.xu,{mt:0===n?"0px":"40px",children:[(0,r.jsxs)(u.k,{children:[(0,r.jsx)("div",{style:{width:"100%"},children:t}),(0,r.jsxs)("div",{style:{width:"auto",display:"flex"},children:[(0,r.jsx)("div",{style:{padding:"5px 10px",cursor:"pointer"},onClick:function(){return S(t.slice(0,3))},children:"Expand"}),(0,r.jsx)("div",{style:{padding:"5px 10px",cursor:"pointer",whiteSpace:"nowrap"},onClick:function(){return S(null)},children:"Collapse All"})]})]}),(0,r.jsx)(u.k,{children:j[t.slice(0,3)]?w===t.slice(0,3)?(0,r.jsx)(c.xu,{w:"100%",children:j[t.slice(0,3)].loans.map((function(e,t){return(0,r.jsx)(c.xu,{mt:0===t?"0px":"15px",children:(0,r.jsx)(x.default,{index:t,loan:e,setLoansToRender:y,setLoanCounts:_})})}))}):(0,r.jsxs)(u.k,{w:"100%",border:"1px solid ".concat(e.colors.gray),borderRadius:"3px",p:"15px",mt:0===n?"0px":"5px",alignItems:"flex-end",flexDirection:"column",children:[(0,r.jsxs)(u.k,{w:"100%",flexWrap:"wrap",children:[(0,r.jsxs)(c.xu,{w:"18%",children:[(0,r.jsx)("div",{style:{fontWeight:"500"},children:"Total Loan Amount"}),(0,r.jsx)("div",{style:{marginTop:"10px"},children:p.Z[0].format(Math.round(j[t.slice(0,3)].loan_amnt_sec))})]}),(0,r.jsxs)(c.xu,{ml:"10px",w:"18%",children:[(0,r.jsx)("div",{style:{fontWeight:"500"},children:"Average Interest Rate"}),(0,r.jsxs)("div",{style:{marginTop:"10px"},children:[Math.round(j[t.slice(0,3)].int_rate_sum/j[t.slice(0,3)].loans.length*100)/100,"%"]})]}),(0,r.jsxs)(c.xu,{ml:"10px",w:"18%",children:[(0,r.jsx)("div",{style:{fontWeight:"500"},children:"Average Payment Probability"}),(0,r.jsxs)("div",{style:{marginTop:"10px"},children:[100-Math.round(j[t.slice(0,3)].default_probability_percent_updated_sum/j[t.slice(0,3)].loans.length*100)/100,"%"]})]}),(0,r.jsxs)(c.xu,{ml:"10px",w:"18%",children:[(0,r.jsx)("div",{style:{fontWeight:"500"},children:"Average Late Status Days"}),(0,r.jsx)("div",{style:{marginTop:"10px"},children:100*Math.round(j[t.slice(0,3)].late_duration_days_total_sum/j[t.slice(0,3)].loans.length)/100})]}),(0,r.jsxs)(c.xu,{ml:"10px",w:"18%",children:[(0,r.jsx)("div",{style:{fontWeight:"500"},children:"% of Current Loans"}),(0,r.jsxs)("div",{style:{marginTop:"10px"},children:[Math.round(j[t.slice(0,3)].loan_status_count/j[t.slice(0,3)].loans.length*100)/100*100,"%"]})]})]}),"current"===s&&(0,r.jsx)(c.xu,{mt:{md:"0px",sm:"20px"},children:(0,r.jsx)(d.z,{disabled:!0,children:"Purchased Loans"})}),"incoming"===s&&(0,r.jsx)(c.xu,{mt:"20px",children:(0,r.jsx)(d.z,{children:"Commit to Buy"})})]}):(0,r.jsxs)(u.k,{w:"100%",border:"1px solid ".concat(e.colors.gray),borderRadius:"3px",p:"15px",mt:0===n?"0px":"5px",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{style:{fontWeight:"500"},children:"Loan Amount"}),(0,r.jsx)("div",{style:{marginTop:"10px"},children:"$0"})]}),(0,r.jsxs)(c.xu,{ml:"20px",children:[(0,r.jsx)("div",{style:{fontWeight:"500"},children:"Average Interest Rate"}),(0,r.jsx)("div",{style:{marginTop:"10px"},children:"0%"})]})]})})]})}))})}}):null}},5802:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/components/loanView",function(){return n(7505)}])},1385:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,{Z:function(){return s}})}},function(e){e.O(0,[774,886,241,888,179],(function(){return t=5802,e(e.s=t);var t}));var t=e.O();_N_E=t}]);