(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[326],{7505:function(e,t,n){"use strict";n.r(t);var s=n(5893),r=n(7294),o=n(4096),a=n(8017),i=n(8104),l=(n(9669),n(5323)),c=n(4028),u=(n(4678),n(6808),n(2283));t.default=function(e){var t=e.loans,n=(e.setLoansToRender,e.setLoanCounts),d=e.selectedNav,x=(0,r.useState)(!1),p=x[0],m=(x[1],(0,r.useState)(null)),h=m[0],_=(m[1],(0,u.cI)());_.register,_.handleSubmit,_.watch,_.formState.errors;return(0,s.jsx)(c.ThemeContext.Consumer,{children:function(e){return(0,s.jsxs)(o.k,{mt:"30px",flexDirection:{sm:"column",md:"row"},children:[(0,s.jsx)(a.xu,{w:{md:"300px",sm:"100%"},minWidth:{md:"300px",sm:"100%"},children:(0,s.jsx)(a.xu,{px:"15px",py:"25px",border:"1px solid ".concat(e.colors.gray),borderRadius:"3px",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{style:{fontWeight:"700"},children:"Year"}),(0,s.jsx)(i.Ph,{name:"loans",id:"loans",style:{border:"1px solid ".concat(e.colors.gray)},children:(0,s.jsx)("option",{value:"completed"===d?"2018":"2020",border:"1px solid ".concat(e.colors.gray),children:"completed"===d?"2018":"2020"})})]})},d)}),t&&!p?(0,s.jsx)(l.default,{loans:t,filterBy:h,setLoanCounts:n,selectedNav:d}):(0,s.jsx)(o.k,{w:"100%",maxHeight:{md:"100vh",sm:"auto"},overflowY:"scroll",ml:{md:"30px",sm:"0px"},mt:{md:"0px",sm:"30px"},alignItems:"center",justifyContent:"center",fontSize:"50px",color:e.colors.secondary,children:"Loading..."})]})}})}},5323:function(e,t,n){"use strict";n.r(t);var s=n(5893),r=n(809),o=n.n(r),a=n(1385),i=n(2447),l=n(7294),c=n(8017),u=n(4096),d=n(7093),x=n(4028),p=n(4678),m=(n(6808),n(9669),n(5063),n(1163)),h=n(233);t.default=function(e,t){var n=e.loans,r=(e.key,e.selectedNav),_=e.setLoanCounts,f=(0,l.useState)(n),j=(f[0],f[1]),v=(0,l.useState)(),y=v[0],g=v[1],b=(0,l.useState)(null),w=b[0],C=b[1];(0,m.useRouter)();(0,l.useEffect)((0,i.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"issue_month",t=n.reduce((function(e,t){return e[t.issue_month]||(e[t.issue_month]={loans:[],loan_amnt_sec:0,int_rate_sum:0,default_probability_percent_updated_sum:0,late_duration_days_total_sum:0,loan_status_count:0}),e[t.issue_month].loans=[].concat((0,a.Z)(e[t.issue_month].loans),[t]),e[t.issue_month].loan_amnt_sec=e[t.issue_month].loan_amnt_sec+parseInt(t.loan_amnt_sec,"10"),e[t.issue_month].int_rate_sum=e[t.issue_month].int_rate_sum+Number(t.interest_rate_percent),e[t.issue_month].default_probability_percent_updated_sum=e[t.issue_month].default_probability_percent_updated_sum+Number(t.default_probability_percent_updated),e[t.issue_month].late_duration_days_total_sum=e[t.issue_month].late_duration_days_total_sum+Number(t.late_duration_days_total),"current"===t.loan_status&&(e[t.issue_month].loan_status_count=e[t.issue_month].loan_status_count+1),e}),{}),j(n),g(t);case 4:case"end":return e.stop()}}),e)}))),[n]);var k="current"===r?["January","February","March","April"]:["May","June","July","August","September","October","November","December"];return y?(0,s.jsx)(x.ThemeContext.Consumer,{children:function(e){return(0,s.jsx)(c.xu,{w:"100%",maxHeight:{md:"100vh",sm:"auto"},overflowY:"scroll",ml:{md:"30px",sm:"0px"},mt:{md:"0px",sm:"30px"},mb:"75px",children:k.map((function(t,n){return(0,s.jsxs)(c.xu,{mt:0===n?"0px":"40px",children:[(0,s.jsxs)(u.k,{children:[(0,s.jsx)("div",{style:{width:"100%"},children:t}),(0,s.jsxs)("div",{style:{width:"auto",display:"flex"},children:[(0,s.jsx)("div",{style:{padding:"5px 10px",cursor:"pointer"},onClick:function(){return C(t.slice(0,3))},children:"Expand"}),(0,s.jsx)("div",{style:{padding:"5px 10px",cursor:"pointer",whiteSpace:"nowrap"},onClick:function(){return C(null)},children:"Collapse All"})]})]}),(0,s.jsx)(u.k,{children:y[t.slice(0,3)]?w===t.slice(0,3)?(0,s.jsx)(c.xu,{w:"100%",children:y[t.slice(0,3)].loans.map((function(e,t){return(0,s.jsx)(c.xu,{mt:0===t?"0px":"15px",children:(0,s.jsx)(h.default,{index:t,loan:e,setLoansToRender:j,setLoanCounts:_})})}))}):(0,s.jsxs)(u.k,{w:"100%",border:"1px solid ".concat(e.colors.gray),borderRadius:"3px",p:"15px",mt:0===n?"0px":"5px",alignItems:"flex-end",flexDirection:"column",children:[(0,s.jsxs)(u.k,{w:"100%",flexWrap:"wrap",children:[(0,s.jsxs)(c.xu,{w:"18%",children:[(0,s.jsx)("div",{style:{fontWeight:"500"},children:"Total Loan Amount"}),(0,s.jsx)("div",{style:{marginTop:"10px"},children:p.Z[0].format(1e3*Math.round(y[t.slice(0,3)].loan_amnt_sec))})]}),(0,s.jsxs)(c.xu,{ml:"10px",w:"18%",children:[(0,s.jsx)("div",{style:{fontWeight:"500"},children:"Average Interest Rate"}),(0,s.jsxs)("div",{style:{marginTop:"10px"},children:[Math.round(y[t.slice(0,3)].int_rate_sum/y[t.slice(0,3)].loans.length*100)/100,"%"]})]}),(0,s.jsxs)(c.xu,{ml:"10px",w:"18%",children:[(0,s.jsx)("div",{style:{fontWeight:"500"},children:"Average Payment Probability"}),(0,s.jsxs)("div",{style:{marginTop:"10px"},children:[100-Math.round(y[t.slice(0,3)].default_probability_percent_updated_sum/y[t.slice(0,3)].loans.length*100)/100,"%"]})]}),(0,s.jsxs)(c.xu,{ml:"10px",w:"18%",children:[(0,s.jsx)("div",{style:{fontWeight:"500"},children:"Average Late Status Days"}),(0,s.jsx)("div",{style:{marginTop:"10px"},children:100*Math.round(y[t.slice(0,3)].late_duration_days_total_sum/y[t.slice(0,3)].loans.length)/100})]}),(0,s.jsxs)(c.xu,{ml:"10px",w:"18%",children:[(0,s.jsx)("div",{style:{fontWeight:"500"},children:"% of Current Loans"}),(0,s.jsxs)("div",{style:{marginTop:"10px"},children:[Math.round(y[t.slice(0,3)].loan_status_count/y[t.slice(0,3)].loans.length*100)/100*100,"%"]})]})]}),"current"===r&&(0,s.jsx)(c.xu,{mt:{md:"0px",sm:"20px"},children:(0,s.jsx)(d.z,{disabled:!0,children:"Purchased Loans"})}),"incoming"===r&&(0,s.jsx)(c.xu,{mt:"20px",children:(0,s.jsx)(d.z,{children:"Commit to Buy"})})]}):(0,s.jsxs)(u.k,{w:"100%",border:"1px solid ".concat(e.colors.gray),borderRadius:"3px",p:"15px",mt:0===n?"0px":"5px",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{style:{fontWeight:"500"},children:"Loan Amount"}),(0,s.jsx)("div",{style:{marginTop:"10px"},children:"$0"})]}),(0,s.jsxs)(c.xu,{ml:"20px",children:[(0,s.jsx)("div",{style:{fontWeight:"500"},children:"Average Interest Rate"}),(0,s.jsx)("div",{style:{marginTop:"10px"},children:"0%"})]})]})})]})}))})}}):null}},1348:function(e,t,n){"use strict";n.r(t);var s=n(5893),r=n(8347),o=n(7294),a=n(4096),i=n(4028);t.default=function(e){var t=e.navList,n=void 0===t?[]:t,l=e.onClick,c=e.loanCounts,u=void 0===c?{}:c,d=((0,r.Z)(e,["navList","onClick","loanCounts"]),(0,o.useState)(0)),x=d[0],p=d[1];return(0,s.jsx)(i.ThemeContext.Consumer,{children:function(e){return(0,s.jsx)(a.k,{flexWrap:"wrap",justifyContent:{sm:"space-between",md:"flex-start"},children:n.map((function(t,r){return(0,s.jsx)(a.k,{justifyContent:"center",alignItems:"center",ml:{md:"0px",sm:r%2!=0?"6px":"0px"},mb:{md:r===n.length?"0px":"10px",sm:"5px"},w:{sm:"49%",md:"auto"},minHeight:{sm:"40px"},mt:{sm:"10px",md:"0px"},padding:"5px 15px",border:"1px solid ".concat(x===r?e.colors.primary:e.colors.gray),bg:x===r?e.colors.primary:"white",color:x===r?"white":"black",onClick:function(){p(r),l(r)},cursor:"pointer",children:u[t]?"".concat(t," (").concat(u[t],")"):t},r)}))})}})}},4434:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y}});var s=n(5893);function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}var o=n(809),a=n.n(o),i=n(2447),l=n(7294),c=n(4096),u=n(3850),d=n(8017),x=n(9669),p=n.n(x),m=n(1348),h=n(4028),_=n(7505),f=n(3472),j=n(6808),v=n.n(j),y=function(){var e=["Incoming Loans","Incoming Stats","Current Loans","Current Stats","Completed Loans","Completed Stats"],t=(0,l.useState)(null),n=t[0],o=t[1],x=(0,l.useState)(null),j=x[0],y=x[1],g=(0,l.useState)(e[0]),b=g[0],w=g[1],C=function(){var t=(0,i.Z)(a().mark((function t(n){var s,r,i;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e[n].includes("Stats")){t.next=2;break}return t.abrupt("return",w(e[n]));case 2:return s="secondaryLenders/loans/".concat(e[n].split(" ")[0].toLowerCase()),t.next=5,p().get(s,{headers:{pToken:v().get("pToken")}});case 5:r=t.sent,i=r.data.loans,o(i),w(e[n]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),k=function(){var e=(0,i.Z)(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"secondaryLenders/loans/counts",e.next=3,p().get("secondaryLenders/loans/counts",{headers:{pToken:v().get("pToken")}});case 3:t=e.sent,n=r({},t.data),y(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,l.useEffect)((function(){C(0),k()}),[]),(0,s.jsx)(h.ThemeContext.Consumer,{children:function(t){return n&&j?(0,s.jsxs)(u.W,{display:"block",padding:{md:"0px 50px",sm:"0px 30px"},children:[(0,s.jsx)(d.xu,{mt:{md:"50px",sm:"25px"},children:(0,s.jsx)(m.default,{navList:e,onClick:function(e){C(e)},loanCounts:j})}),b.includes("Stats")?(0,s.jsx)(d.xu,{children:(0,s.jsx)(f.default,{selectedNav:b})},Math.random()):(0,s.jsx)(_.default,{loans:n,setLoansToRender:o,setLoanCounts:y,selectedNav:b.split(" ")[0].toLowerCase()})]}):(0,s.jsx)(c.k,{w:"100%",height:{md:"calc(100vh - 80px)",sm:"auto"},overflowY:"scroll",ml:{md:"30px",sm:"0px"},mt:{md:"0px",sm:"30px"},alignItems:"center",justifyContent:"center",fontSize:"50px",color:t.colors.secondary,children:"Loading..."})}})}},3086:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/secondary/loans",function(){return n(4434)}])}},function(e){e.O(0,[774,886,5,742,241,472,888,179],(function(){return t=3086,e(e.s=t);var t}));var t=e.O();_N_E=t}]);